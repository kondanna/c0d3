<head></head>
<body>
    <div id="container"></div>
</body>
<script>
    const makeGreen = (e) => {
        e.preventDefault()
        container.classList.add('dropping')
        container.innerHTML = `<h1>Will upload ${e.dataTransfer.items.length} files</h1>`
    }
    const clearScreen = (e) => {
        e.preventDefault()
        container.classList.remove('dropping')
        container.innerHTML = ''
        return false
    }
    console.log('container', container)
    document.body.ondrop = (e) => {
        e.preventDefault()
        const files = Array.from(e.targe.files || e.dataTransfer.files)
        if (!files.length) return 

        const formdata = new FormData() 
        files.forEach(file => {
            formData.append('keyname[]', file, file.name)
        })
        fetch('/files', {
            method: 'POST', 
            body: formData
        }).then(r => r.json).then(arr => {
            window.location.reload()
        })
        return clearScreen(e)
    }
</script>